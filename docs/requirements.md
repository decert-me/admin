# 后台需求

## 教程管理  
主要功能：添加、更新、删除、上/下架

### 添加：
    - 表单填写教程名、链接、类型、分类等元数据
    - 添加后教程元数据保存到数据库，文件保存到服务器；

### 更新：
    - 教程名、分类等元数据
    - 更新到最新教程
    - 添加/更新挑战

### 上下架
    显示/隐藏教程

### 功能需求
### 后台功能需求：
**添加教程**

- 教程名称：60字符
- 简介：300字符
- 教程封面
- 挑战链接（后台用编号即可）：
- 教程媒体类型：文档/视频
- 文档：
教程地址：粘贴教程链接
分支（选填）
教程文档目录（选填）
教程文档commitHash（选填）
挑战链接（选填）
视频：YouTube/BiliBili
YouTube：
视频链接：
bilibili：
视频链接
视频列表：需要手动添加【视频合辑】的单个视频地址
- 分类标签：后台可增加标签（新增的标签会在教程页面出现）
- 主题标签：后台可以增加主题标签

主题+分类，一个教程最多3个标签

- 语言：中文、英文
- 教程难度：简单、中等、困难
- 教程预估时间：默认分钟为单位

（当没有点击【添加】，保留编辑信息，当重新进入添加教程页， 显示上次编辑信息。
当【确认添加】后，点击添加教程，参数为空，）


### 2.教程列表：

- 排序（可设置置顶教程）默认以上传时间排序
- 待上架/已上架（控制教程是否显示在教程页面上）
待上架：
已上架
- 教程封面图（缩略图）
- 教程名称（20 字符，显示标题前后文字，中间文字用…）
- 分类标签
- 主题标签
- 语言（）
- 媒体类型
- 挑战链接（10个字符,显示链接前后文字，中间文字用…，可点击转到挑战对应页面）
- 教程上架时间
- 教程浏览量（访问教程页面即+1）
- 教程参与人员数量（同一地址访问教程页面后+1，重复访问不叠加）
- 挑战链接
- 编辑：
1.重新编辑（教程名称、简介、分类标签、主题标签、语言、媒体类型、教程难度、教程预估时间、挑战链接）不用重新打包。保存修改即生效。
2.更新教程，涉及修改到分支、文档目录、教程文档Hash，判断与上次内容是否有变动，有变动在提交修改的同时，重新打包。
- 删除

每页展示20条教程

### 3.打包管理
- 打包：元文档更新
如果更新后，打包失败，已上架的教程，依然上架，不更新内容，在后台增加一条打包失败的记录，通知相关人员处理后，再次点击更新教程。
更新后，打包成功，待上架、已上架状态不变，内容更新。
- 打包失败：将失败的教程信息发送到Discord，当第一次创建教程，打包失败，则出现在打包管理列表内。当更新教程内容，打包失败，教程列表内容不更新，打包管理列表显示打包失败信息。
- 打包成功：成功后，此教程出现在教程列表。

### 3.删除教程

（网页、后台管理界面不显示，数据库保留）

### 4.筛选器管理：

- 创建新筛选类型
- 修改/删除筛选类型（如：分类、主题、媒体类型、语言）
- 新增/修改/删除筛选类型子分类（如：分类的子分类-去中心化应用、公链、语言）
- 可编辑中/英文
